import { Subject } from 'rxjs';
import { map, take } from 'rxjs/operators';
import { DataControl, dispatch } from '../../../core/global-classes';
import { ServiceLocator } from '../../../locator.service';
import { ToastNotificationConfigService } from './toast-notification-config.service';
import { ToastNotificationService } from './toast-notification.service';
export class ToastNotificationInitializer {
    constructor() {
        this.toastNotificationCarrier = new ToastNotificationCarrier();
    }
    openToastNotification$() {
        return this.toastNotificationCarrier.openToastNotification$().pipe(map(resp => {
            const basicToastNotificationResponse = new ToastNotificationResponse();
            const dataControl = new DataControl();
            dataControl.copyValuesFrom(resp, basicToastNotificationResponse);
            return basicToastNotificationResponse;
        }), take(1));
    }
    setButtons(_Buttons) {
        this.toastNotificationCarrier.setButtons(_Buttons);
    }
    setConfig(_ToastNotificationConfig) {
        this.toastNotificationCarrier.setConfig(_ToastNotificationConfig);
    }
    setDispatch(_Title, _Message = null) {
        this.toastNotificationCarrier.setTitle(_Title);
        this.toastNotificationCarrier.setMessage(_Message);
    }
    setTitle(_Title) {
        this.toastNotificationCarrier.setTitle(_Title);
    }
    setMessage(_Message) {
        this.toastNotificationCarrier.setMessage(_Message);
    }
    setButtonLabels(_Confirm, _Decline) {
        this.toastNotificationCarrier.setButtonLabels(_Confirm, _Decline);
    }
}
export class ToastNotificationResponse extends DataControl {
    constructor() {
        super();
        this.success = null;
        this.clickedButtonID = null;
    }
    setSuccess(_IsSuccess) {
        this.success = _IsSuccess;
    }
    setClickedButtonID(_ClickedButtonID) {
        this.clickedButtonID = _ClickedButtonID;
    }
}
export class ToastNotificationeventsController {
    constructor(entityUniqueID) {
        this.entityUniqueID = entityUniqueID;
        this._onButtonClick = new Subject();
        this._afterClosed = new Subject();
        this._buttonList = new Subject();
        this.afterClosed$ = this._afterClosed.asObservable();
        this.onButtonClick$ = this._onButtonClick.asObservable();
        this.buttonList$ = this._buttonList.asObservable();
    }
    close(_Response) {
        const response = _Response ? _Response : this.defaultResponse;
        this._afterClosed.next(response);
    }
    onButtonClick(_Button) {
        this.defaultResponse.setClickedButtonID(_Button.ID);
        this._onButtonClick.next(_Button);
    }
    setButtonList(_ButtonList) {
        this._buttonList.next(_ButtonList);
    }
    setDefaultResponse(_Response) {
        this.defaultResponse = _Response;
    }
}
export class ToastNotificationDefaultResponse extends ToastNotificationResponse {
    constructor() {
        super();
        this.toastNotificationBelonging = null;
    }
    setBelonging(_ToastNotificationBelonging) {
        this.toastNotificationBelonging = _ToastNotificationBelonging;
    }
}
export class ToastNotificationCarrier {
    constructor() {
        this.toastNotificationBelonging = new ToastNotificationBelonging();
    }
    setButtons(_Buttons) {
        if (_Buttons.length) {
            this.toastNotificationBelonging.buttons = _Buttons;
        }
    }
    setTitle(_Title) {
        this.toastNotificationBelonging.dispatch.title = _Title;
    }
    setMessage(_Message) {
        this.toastNotificationBelonging.dispatch.message = _Message;
    }
    setButtonLabels(_Confirm, _Decline) {
        this.toastNotificationBelonging.toastCoreConfig.confirmLabel = _Confirm;
        this.toastNotificationBelonging.toastCoreConfig.declineLabel = _Decline;
    }
    setConfig(_ToastNotificationBelonging) {
        const dataControl = new DataControl();
        dataControl.copyValuesFrom(_ToastNotificationBelonging, this.toastNotificationBelonging.toastCoreConfig);
    }
    openToastNotification$() {
        if (!this.toastNotificationBelonging.dispatch.title && !this.toastNotificationBelonging.dispatch.message) {
            throw Error('Toast notification can not be without both message and title.');
        }
        const service = ServiceLocator.injector.get(ToastNotificationService);
        return service.openToast$(this.toastNotificationBelonging);
    }
}
export class GlobalToastSettings {
    constructor() {
        this.allowedNotificationsAtOnce = null;
    }
}
export class ResetToastGlobalSettings {
    constructor(globalToastConfig) {
        const globalToastConfigService = ServiceLocator.injector.get(ToastNotificationConfigService);
        if (globalToastConfigService) {
            globalToastConfigService.setResetGlobalToastConfig(globalToastConfig);
        }
        else {
            globalToastConfigService.setResetGlobalToastConfig();
        }
    }
}
export class ToastSettings {
    constructor() {
        this.buttons = [];
        this.toastCoreConfig = new toastCoreConfig();
        this.dispatch = new dispatch();
        this.globalSettings = new GlobalToastSettings();
    }
}
export class ToastCustomStyles {
    constructor() {
        this.titleCSS = null;
        this.textCSS = null;
        this.buttonSectionCSS = null;
        this.buttonCSS = null;
    }
}
export class toastCoreConfig {
    constructor() {
        this.toastPosition = null;
        this.progressBar = null;
        this.toastUserViewType = null;
        this.openInElementID = null;
        this.buttonPosition = null;
        this.textPosition = null;
        this.layoutType = null;
        this.dispatch = null;
        this.confirmLabel = null;
        this.declineLabel = null;
        this.autoCloseDelay = null;
        this.disableIcon = null;
        this.allowHtmlMessage = null;
        this.animationIn = null;
        this.animationOut = null;
        this.customStyles = new ToastCustomStyles();
        this.iconStyleClass = null;
    }
}
export class ToastNotificationBelonging extends ToastSettings {
    constructor() {
        super();
        this.entityUniqueID = 'T' + Math.random().toString(36).substr(2, 9);
        this.eventsController = new ToastNotificationeventsController(this.entityUniqueID);
        const toastNotificationConfigurator = ServiceLocator.injector.get(ToastNotificationConfigService);
        const baseSettings = new ToastSettings();
        const dataControl = new DataControl();
        dataControl.copyValuesFrom(toastNotificationConfigurator.productionConfig.toastCoreConfig, baseSettings.toastCoreConfig);
        this.toastCoreConfig = baseSettings.toastCoreConfig;
        this.buttons = toastNotificationConfigurator.productionConfig.buttons.slice();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xhc3Nlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL25neC1hd2Vzb21lLXBvcHVwL3R5cGVzL3RvYXN0LW5vdGlmaWNhdGlvbi9jb3JlL2NsYXNzZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFjLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUMzQyxPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBTzNDLE9BQU8sRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFFckUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBVzFELE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ3JGLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBR3hFLE1BQU0sT0FBTyw0QkFBNEI7SUFHdkM7UUFGUSw2QkFBd0IsR0FBNkIsSUFBSSx3QkFBd0IsRUFBRSxDQUFDO0lBRTdFLENBQUM7SUFFaEIsc0JBQXNCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLHdCQUF3QixDQUFDLHNCQUFzQixFQUFFLENBQUMsSUFBSSxDQUNoRSxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDVCxNQUFNLDhCQUE4QixHQUFHLElBQUkseUJBQXlCLEVBQUUsQ0FBQztZQUN2RSxNQUFNLFdBQVcsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDO1lBQ3RDLFdBQVcsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLDhCQUE4QixDQUFDLENBQUM7WUFDakUsT0FBTyw4QkFBOEIsQ0FBQztRQUN4QyxDQUFDLENBQUMsRUFDRixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQ1IsQ0FBQztJQUNKLENBQUM7SUFFRCxVQUFVLENBQUMsUUFBbUI7UUFDNUIsSUFBSSxDQUFDLHdCQUF3QixDQUFDLFVBQVUsQ0FB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QUFJLENBQUMsT0FBTyxHQUFHLDZCQUE2QixDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNoRixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBtYXAsIHRha2UgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge1xuICBBcHBlYXJhbmNlQW5pbWF0aW9uLFxuICBEaWFsb2dMYXlvdXREaXNwbGF5LFxuICBEaXNhcHBlYXJhbmNlQW5pbWF0aW9uLFxuICBWZXJ0aWNhbFBvc2l0aW9uXG59IGZyb20gJy4uLy4uLy4uL2NvcmUvZW51bXMnO1xuaW1wb3J0IHsgRGF0YUNvbnRyb2wsIGRpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9nbG9iYWwtY2xhc3Nlcyc7XG5pbXBvcnQgeyBJQnV0dG9uLCBJRGlzcGF0Y2ggfSBmcm9tICcuLi8uLi8uLi9jb3JlL2dsb2JhbC1pbnRlcmZhY2VzJztcbmltcG9ydCB7IFNlcnZpY2VMb2NhdG9yIH0gZnJvbSAnLi4vLi4vLi4vbG9jYXRvci5zZXJ2aWNlJztcbmltcG9ydCB7IFRvYXN0UG9zaXRpb25FbnVtLCBUb2FzdFByb2dyZXNzQmFyRW51bSwgVG9hc3RVc2VyVmlld1R5cGVFbnVtIH0gZnJvbSAnLi9lbnVtcyc7XG5pbXBvcnQge1xuICBJR2xvYmFsVG9hc3RTZXR0aW5ncyxcbiAgSVByaXZhdGVSZXNwb25zZU1lcmdlZCxcbiAgSVRvYXN0Q29yZUNvbmZpZyxcbiAgSVRvYXN0Q3VzdG9tU3R5bGVzLFxuICBJVG9hc3ROb3RpZmljYXRpb25CZWxvbmdpbmcsXG4gIElUb2FzdE5vdGlmaWNhdGlvblB1YmxpY1Jlc3BvbnNlLFxuICBJVG9hc3ROb3RpZmljYXRpb25SZXNwb25zZVxufSBmcm9tICcuL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgVG9hc3ROb3RpZmljYXRpb25Db25maWdTZXJ2aWNlIH0gZnJvbSAnLi90b2FzdC1ub3RpZmljYXRpb24tY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgVG9hc3ROb3RpZmljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi90b2FzdC1ub3RpZmljYXRpb24uc2VydmljZSc7XG5cbi8vIHJlZ2lvbiAqKiogUHVibGljICoqKlxuZXhwb3J0IGNsYXNzIFRvYXN0Tm90aWZpY2F0aW9uSW5pdGlhbGl6ZXIge1xuICBwcml2YXRlIHRvYXN0Tm90aWZpY2F0aW9uQ2FycmllcjogVG9hc3ROb3RpZmljYXRpb25DYXJyaWVyID0gbmV3IFRvYXN0Tm90aWZpY2F0aW9uQ2FycmllcigpO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBvcGVuVG9hc3ROb3RpZmljYXRpb24kKCk6IE9ic2VydmFibGU8SVRvYXN0Tm90aWZpY2F0aW9uUHVibGljUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy50b2FzdE5vdGlmaWNhdGlvbkNhcnJpZXIub3BlblRvYXN0Tm90aWZpY2F0aW9uJCgpLnBpcGUoXG4gICAgICBtYXAocmVzcCA9PiB7XG4gICAgICAgIGNvbnN0IGJhc2ljVG9hc3ROb3RpZmljYXRpb25SZXNwb25zZSA9IG5ldyBUb2FzdE5vdGlmaWNhdGlvblJlc3BvbnNlKCk7XG4gICAgICAgIGNvbnN0IGRhdGFDb250cm9sID0gbmV3IERhdGFDb250cm9sKCk7XG4gICAgICAgIGRhdGFDb250cm9sLmNvcHlWYWx1ZXNGcm9tKHJlc3AsIGJhc2ljVG9hc3ROb3RpZmljYXRpb25SZXNwb25zZSk7XG4gICAgICAgIHJldHVybiBiYXNpY1RvYXN0Tm90aWZpY2F0aW9uUmVzcG9uc2U7XG4gICAgICB9KSxcbiAgICAgIHRha2UoMSlcbiAgICApO1xuICB9XG5cbiAgc2V0QnV0dG9ucyhfQnV0dG9uczogSUJ1dHRvbltdKTogdm9pZCB7XG4gICAgdGhpcy50b2FzdE5vdGlmaWNhdGlvbkNhcnJpZXIuc2V0QnV0dG9ucyhfQnV0dG9ucyk7XG4gIH1cblxuICBzZXRDb25maWcoX1RvYXN0Tm90aWZpY2F0aW9uQ29uZmlnOiBJVG9hc3RDb3JlQ29uZmlnKTogdm9pZCB7XG4gICAgdGhpcy50b2FzdE5vdGlmaWNhdGlvbkNhcnJpZXIuc2V0Q29uZmlnKF9Ub2FzdE5vdGlmaWNhdGlvbkNvbmZpZyk7XG4gIH1cblxuICBzZXREaXNwYXRjaChfVGl0bGU6IHN0cmluZywgX01lc3NhZ2U6IHN0cmluZyA9IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLnRvYXN0Tm90aWZpY2F0aW9uQ2Fycmllci5zZXRUaXRsZShfVGl0bGUpO1xuICAgIHRoaXMudG9hc3ROb3RpZmljYXRpb25DYXJyaWVyLnNldE1lc3NhZ2UoX01lc3NhZ2UpO1xuICB9XG5cbiAgc2V0VGl0bGUoX1RpdGxlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnRvYXN0Tm90aWZpY2F0aW9uQ2Fycmllci5zZXRUaXRsZShfVGl0bGUpO1xuICB9XG5cbiAgc2V0TWVzc2FnZShfTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy50b2FzdE5vdGlmaWNhdGlvbkNhcnJpZXIuc2V0TWVzc2FnZShfTWVzc2FnZSk7XG4gIH1cblxuICBzZXRCdXR0b25MYWJlbHMoX0NvbmZpcm06IHN0cmluZywgX0RlY2xpbmU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnRvYXN0Tm90aWZpY2F0aW9uQ2Fycmllci5zZXRCdXR0b25MYWJlbHMoX0NvbmZpcm0sIF9EZWNsaW5lKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9hc3ROb3RpZmljYXRpb25SZXNwb25zZVxuICBleHRlbmRzIERhdGFDb250cm9sXG4gIGltcGxlbWVudHMgSVRvYXN0Tm90aWZpY2F0aW9uUmVzcG9uc2UsIElUb2FzdE5vdGlmaWNhdGlvblB1YmxpY1Jlc3BvbnNlXG57XG4gIC8vIHByaXZhdGUgUmVzcG9uc2U6IERpYWxvZ1ByZXBhcmVSZXNwb25zZSAgICAgICAgICAgID0gbmV3IERpYWxvZ1ByZXBhcmVSZXNwb25zZSgpO1xuXG4gIHN1Y2Nlc3M6IGJvb2xlYW4gPSBudWxsO1xuICBjbGlja2VkQnV0dG9uSUQ6IHN0cmluZyA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHNldFN1Y2Nlc3MoX0lzU3VjY2VzczogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuc3VjY2VzcyA9IF9Jc1N1Y2Nlc3M7XG4gIH1cblxuICBzZXRDbGlja2VkQnV0dG9uSUQoX0NsaWNrZWRCdXR0b25JRCk6IHZvaWQge1xuICAgIHRoaXMuY2xpY2tlZEJ1dHRvbklEID0gX0NsaWNrZWRCdXR0b25JRDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9hc3ROb3RpZmljYXRpb25ldmVudHNDb250cm9sbGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBfb25CdXR0b25DbGljazogU3ViamVjdDxJQnV0dG9uPiA9IG5ldyBTdWJqZWN0PElCdXR0b24+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2FmdGVyQ2xvc2VkOiBTdWJqZWN0PElQcml2YXRlUmVzcG9uc2VNZXJnZWQ+ID0gbmV3IFN1YmplY3Q8SVByaXZhdGVSZXNwb25zZU1lcmdlZD4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfYnV0dG9uTGlzdDogU3ViamVjdDxJQnV0dG9uW10+ID0gbmV3IFN1YmplY3Q8SUJ1dHRvbltdPigpO1xuICBkZWZhdWx0UmVzcG9uc2U6IElQcml2YXRlUmVzcG9uc2VNZXJnZWQ7XG4gIGFmdGVyQ2xvc2VkJDogT2JzZXJ2YWJsZTxJUHJpdmF0ZVJlc3BvbnNlTWVyZ2VkPiA9IHRoaXMuX2FmdGVyQ2xvc2VkLmFzT2JzZXJ2YWJsZSgpO1xuICBvbkJ1dHRvbkNsaWNrJDogT2JzZXJ2YWJsZTxJQnV0dG9uPiA9IHRoaXMuX29uQnV0dG9uQ2xpY2suYXNPYnNlcnZhYmxlKCk7XG4gIGJ1dHRvbkxpc3QkOiBPYnNlcnZhYmxlPElCdXR0b25bXT4gPSB0aGlzLl9idXR0b25MaXN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZW50aXR5VW5pcXVlSUQ6IHN0cmluZykge31cblxuICBjbG9zZShfUmVzcG9uc2U/OiBJUHJpdmF0ZVJlc3BvbnNlTWVyZ2VkKTogdm9pZCB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBfUmVzcG9uc2UgPyBfUmVzcG9uc2UgOiB0aGlzLmRlZmF1bHRSZXNwb25zZTtcbiAgICB0aGlzLl9hZnRlckNsb3NlZC5uZXh0KHJlc3BvbnNlKTtcbiAgfVxuXG4gIG9uQnV0dG9uQ2xpY2soX0J1dHRvbjogSUJ1dHRvbik6IHZvaWQge1xuICAgIHRoaXMuZGVmYXVsdFJlc3BvbnNlLnNldENsaWNrZWRCdXR0b25JRChfQnV0dG9uLklEKTtcbiAgICB0aGlzLl9vbkJ1dHRvbkNsaWNrLm5leHQoX0J1dHRvbik7XG4gIH1cblxuICBzZXRCdXR0b25MaXN0KF9CdXR0b25MaXN0OiBJQnV0dG9uW10pOiB2b2lkIHtcbiAgICB0aGlzLl9idXR0b25MaXN0Lm5leHQoX0J1dHRvbkxpc3QpO1xuICB9XG5cbiAgc2V0RGVmYXVsdFJlc3BvbnNlKF9SZXNwb25zZTogSVByaXZhdGVSZXNwb25zZU1lcmdlZCk6IHZvaWQge1xuICAgIHRoaXMuZGVmYXVsdFJlc3BvbnNlID0gX1Jlc3BvbnNlO1xuICB9XG59XG5cbi8vIGVuZHJlZ2lvblxuXG5leHBvcnQgY2xhc3MgVG9hc3ROb3RpZmljYXRpb25EZWZhdWx0UmVzcG9uc2UgZXh0ZW5kcyBUb2FzdE5vdGlmaWNhdGlvblJlc3BvbnNlIGltcGxlbWVudHMgSVByaXZhdGVSZXNwb25zZU1lcmdlZCB7XG4gIHRvYXN0Tm90aWZpY2F0aW9uQmVsb25naW5nOiBUb2FzdE5vdGlmaWNhdGlvbkJlbG9uZ2luZyA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHNldEJlbG9uZ2luZyhfVG9hc3ROb3RpZmljYXRpb25CZWxvbmdpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnRvYXN0Tm90aWZpY2F0aW9uQmVsb25naW5nID0gX1RvYXN0Tm90aWZpY2F0aW9uQmVsb25naW5nO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb2FzdE5vdGlmaWNhdGlvbkNhcnJpZXIge1xuICB0b2FzdE5vdGlmaWNhdGlvbkJlbG9uZ2luZzogVG9hc3ROb3RpZmljYXRpb25CZWxvbmdpbmcgPSBuZXcgVG9hc3ROb3RpZmljYXRpb25CZWxvbmdpbmcoKTtcblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgc2V0QnV0dG9ucyhfQnV0dG9uczogSUJ1dHRvbltdKTogdm9pZCB7XG4gICAgaWYgKF9CdXR0b25zLmxlbmd0aCkge1xuICAgICAgdGhpcy50b2FzdE5vdGlmaWNhdGlvbkJlbG9uZ2luZy5idXR0b25zID0gX0J1dHRvbnM7XG4gICAgfVxuICB9XG5cbiAgc2V0VGl0bGUoX1RpdGxlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnRvYXN0Tm90aWZpY2F0aW9uQmVsb25naW5nLmRpc3BhdGNoLnRpdGxlID0gX1RpdGxlO1xuICB9XG5cbiAgc2V0TWVzc2FnZShfTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy50b2FzdE5vdGlmaWNhdGlvbkJlbG9uZ2luZy5kaXNwYXRjaC5tZXNzYWdlID0gX01lc3NhZ2U7XG4gIH1cblxuICBzZXRCdXR0b25MYWJlbHMoX0NvbmZpcm06IHN0cmluZywgX0RlY2xpbmU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMudG9hc3ROb3RpZmljYXRpb25CZWxvbmdpbmcudG9hc3RDb3JlQ29uZmlnLmNvbmZpcm1MYWJlbCA9IF9Db25maXJtO1xuICAgIHRoaXMudG9hc3ROb3RpZmljYXRpb25CZWxvbmdpbmcudG9hc3RDb3JlQ29uZmlnLmRlY2xpbmVMYWJlbCA9IF9EZWNsaW5lO1xuICB9XG5cbiAgc2V0Q29uZmlnKF9Ub2FzdE5vdGlmaWNhdGlvbkJlbG9uZ2luZzogSVRvYXN0Q29yZUNvbmZpZyk6IHZvaWQge1xuICAgIC8vIHJlZ2lvbiAqKiogbG9jYWwgVXNlckNvbmZpZyAoZGVmaW5lZCBvbiBwbGFjZSB3aGVyZSBkaWFsb2cgaXMgY2FsbGVkKSAqKipcbiAgICBjb25zdCBkYXRhQ29udHJvbCA9IG5ldyBEYXRhQ29udHJvbCgpO1xuICAgIGRhdGFDb250cm9sLmNvcHlWYWx1ZXNGcm9tKF9Ub2FzdE5vdGlmaWNhdGlvbkJlbG9uZ2luZywgdGhpcy50b2FzdE5vdGlmaWNhdGlvbkJlbG9uZ2luZy50b2FzdENvcmVDb25maWcpO1xuICAgIC8vIGVuZHJlZ2lvblxuICB9XG5cbiAgb3BlblRvYXN0Tm90aWZpY2F0aW9uJCgpOiBPYnNlcnZhYmxlPElQcml2YXRlUmVzcG9uc2VNZXJnZWQ+IHtcbiAgICBpZiAoIXRoaXMudG9hc3ROb3RpZmljYXRpb25CZWxvbmdpbmcuZGlzcGF0Y2gudGl0bGUgJiYgIXRoaXMudG9hc3ROb3RpZmljYXRpb25CZWxvbmdpbmcuZGlzcGF0Y2gubWVzc2FnZSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1RvYXN0IG5vdGlmaWNhdGlvbiBjYW4gbm90IGJlIHdpdGhvdXQgYm90aCBtZXNzYWdlIGFuZCB0aXRsZS4nKTtcbiAgICB9XG4gICAgY29uc3Qgc2VydmljZTogVG9hc3ROb3RpZmljYXRpb25TZXJ2aWNlID0gU2VydmljZUxvY2F0b3IuaW5qZWN0b3IuZ2V0KFRvYXN0Tm90aWZpY2F0aW9uU2VydmljZSk7XG4gICAgcmV0dXJuIHNlcnZpY2Uub3BlblRvYXN0JCh0aGlzLnRvYXN0Tm90aWZpY2F0aW9uQmVsb25naW5nKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2xvYmFsVG9hc3RTZXR0aW5ncyBpbXBsZW1lbnRzIElHbG9iYWxUb2FzdFNldHRpbmdzIHtcbiAgYWxsb3dlZE5vdGlmaWNhdGlvbnNBdE9uY2U6IG51bWJlciA9IG51bGw7XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNldFRvYXN0R2xvYmFsU2V0dGluZ3Mge1xuICBjb25zdHJ1Y3RvcihnbG9iYWxUb2FzdENvbmZpZz86IElHbG9iYWxUb2FzdFNldHRpbmdzKSB7XG4gICAgY29uc3QgZ2xvYmFsVG9hc3RDb25maWdTZXJ2aWNlOiBUb2FzdE5vdGlmaWNhdGlvbkNvbmZpZ1NlcnZpY2UgPVxuICAgICAgU2VydmljZUxvY2F0b3IuaW5qZWN0b3IuZ2V0KFRvYXN0Tm90aWZpY2F0aW9uQ29uZmlnU2VydmljZSk7XG4gICAgaWYgKGdsb2JhbFRvYXN0Q29uZmlnU2VydmljZSkge1xuICAgICAgZ2xvYmFsVG9hc3RDb25maWdTZXJ2aWNlLnNldFJlc2V0R2xvYmFsVG9hc3RDb25maWcoZ2xvYmFsVG9hc3RDb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbG9iYWxUb2FzdENvbmZpZ1NlcnZpY2Uuc2V0UmVzZXRHbG9iYWxUb2FzdENvbmZpZygpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9hc3RTZXR0aW5ncyB7XG4gIGJ1dHRvbnM6IElCdXR0b25bXSA9IFtdO1xuICB0b2FzdENvcmVDb25maWc6IElUb2FzdENvcmVDb25maWcgPSBuZXcgdG9hc3RDb3JlQ29uZmlnKCk7XG4gIGRpc3BhdGNoOiBJRGlzcGF0Y2ggPSBuZXcgZGlzcGF0Y2goKTtcbiAgZ2xvYmFsU2V0dGluZ3M6IEdsb2JhbFRvYXN0U2V0dGluZ3MgPSBuZXcgR2xvYmFsVG9hc3RTZXR0aW5ncygpO1xufVxuXG5leHBvcnQgY2xhc3MgVG9hc3RDdXN0b21TdHlsZXMgaW1wbGVtZW50cyBJVG9hc3RDdXN0b21TdHlsZXMge1xuICB0aXRsZUNTUzogc3RyaW5nID0gbnVsbDtcbiAgdGV4dENTUzogc3RyaW5nID0gbnVsbDtcbiAgYnV0dG9uU2VjdGlvbkNTUzogc3RyaW5nID0gbnVsbDtcbiAgYnV0dG9uQ1NTOiBzdHJpbmcgPSBudWxsO1xufVxuXG5leHBvcnQgY2xhc3MgdG9hc3RDb3JlQ29uZmlnIGltcGxlbWVudHMgSVRvYXN0Q29yZUNvbmZpZyB7XG4gIHRvYXN0UG9zaXRpb246IFRvYXN0UG9zaXRpb25FbnVtID0gbnVsbDtcbiAgcHJvZ3Jlc3NCYXI6IFRvYXN0UHJvZ3Jlc3NCYXJFbnVtID0gbnVsbDtcbiAgdG9hc3RVc2VyVmlld1R5cGU6IFRvYXN0VXNlclZpZXdUeXBlRW51bSA9IG51bGw7XG4gIG9wZW5JbkVsZW1lbnRJRDogc3RyaW5nID0gbnVsbDtcbiAgYnV0dG9uUG9zaXRpb246IFZlcnRpY2FsUG9zaXRpb24gPSBudWxsO1xuICB0ZXh0UG9zaXRpb246IFZlcnRpY2FsUG9zaXRpb24gPSBudWxsO1xuICBsYXlvdXRUeXBlOiBEaWFsb2dMYXlvdXREaXNwbGF5ID0gbnVsbDtcbiAgZGlzcGF0Y2g6IElEaXNwYXRjaCA9IG51bGw7XG4gIGNvbmZpcm1MYWJlbDogc3RyaW5nID0gbnVsbDtcbiAgZGVjbGluZUxhYmVsOiBzdHJpbmcgPSBudWxsO1xuICBhdXRvQ2xvc2VEZWxheTogbnVtYmVyID0gbnVsbDtcbiAgZGlzYWJsZUljb246IGJvb2xlYW4gPSBudWxsO1xuICBhbGxvd0h0bWxNZXNzYWdlOiBib29sZWFuID0gbnVsbDtcbiAgYW5pbWF0aW9uSW46IEFwcGVhcmFuY2VBbmltYXRpb24gPSBudWxsO1xuICBhbmltYXRpb25PdXQ6IERpc2FwcGVhcmFuY2VBbmltYXRpb24gPSBudWxsO1xuICBjdXN0b21TdHlsZXM6IElUb2FzdEN1c3RvbVN0eWxlcyA9IG5ldyBUb2FzdEN1c3RvbVN0eWxlcygpO1xuICBpY29uU3R5bGVDbGFzczogc3RyaW5nID0gbnVsbDtcbn1cblxuZXhwb3J0IGNsYXNzIFRvYXN0Tm90aWZpY2F0aW9uQmVsb25naW5nIGV4dGVuZHMgVG9hc3RTZXR0aW5ncyBpbXBsZW1lbnRzIElUb2FzdE5vdGlmaWNhdGlvbkJlbG9uZ2luZyB7XG4gIGVudGl0eVVuaXF1ZUlEOiBzdHJpbmcgPSAnVCcgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG4gIGV2ZW50c0NvbnRyb2xsZXI6IFRvYXN0Tm90aWZpY2F0aW9uZXZlbnRzQ29udHJvbGxlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZXZlbnRzQ29udHJvbGxlciA9IG5ldyBUb2FzdE5vdGlmaWNhdGlvbmV2ZW50c0NvbnRyb2xsZXIodGhpcy5lbnRpdHlVbmlxdWVJRCk7XG4gICAgY29uc3QgdG9hc3ROb3RpZmljYXRpb25Db25maWd1cmF0b3I6IFRvYXN0Tm90aWZpY2F0aW9uQ29uZmlnU2VydmljZSA9XG4gICAgICBTZXJ2aWNlTG9jYXRvci5pbmplY3Rvci5nZXQoVG9hc3ROb3RpZmljYXRpb25Db25maWdTZXJ2aWNlKTtcbiAgICBjb25zdCBiYXNlU2V0dGluZ3MgPSBuZXcgVG9hc3RTZXR0aW5ncygpO1xuICAgIGNvbnN0IGRhdGFDb250cm9sID0gbmV3IERhdGFDb250cm9sKCk7XG4gICAgZGF0YUNvbnRyb2wuY29weVZhbHVlc0Zyb20oXG4gICAgICB0b2FzdE5vdGlmaWNhdGlvbkNvbmZpZ3VyYXRvci5wcm9kdWN0aW9uQ29uZmlnLnRvYXN0Q29yZUNvbmZpZyxcbiAgICAgIGJhc2VTZXR0aW5ncy50b2FzdENvcmVDb25maWdcbiAgICApO1xuICAgIHRoaXMudG9hc3RDb3JlQ29uZmlnID0gYmFzZVNldHRpbmdzLnRvYXN0Q29yZUNvbmZpZztcbiAgICB0aGlzLmJ1dHRvbnMgPSB0b2FzdE5vdGlmaWNhdGlvbkNvbmZpZ3VyYXRvci5wcm9kdWN0aW9uQ29uZmlnLmJ1dHRvbnMuc2xpY2UoKTtcbiAgfVxufVxuIl19