import { Subject } from 'rxjs';
import { map, take } from 'rxjs/operators';
import { GlobalClass } from '../../../core/global';
import { ServiceLocator } from '../../../locator.service';
import { ConfirmBoxConfigService } from './confirm-box-config.service';
import { ConfirmBoxService } from './confirm-box-service';
export var ConfirmBoxClass;
(function (ConfirmBoxClass) {
    // region *** Public ***
    class ConfirmBoxInitializer {
        constructor() {
            /** @internal */
            this.confirmBoxCarrier = new ConfirmBoxClass.ConfirmBoxCarrier();
        }
        openConfirmBox$() {
            return this.confirmBoxCarrier.openConfirmBox$().pipe(map(resp => {
                const basicConfirmBoxResponse = new ConfirmBoxResponse();
                const dataControl = new GlobalClass.DataControl();
                dataControl.copyValuesFrom(resp, basicConfirmBoxResponse);
                return basicConfirmBoxResponse;
            }), take(1));
        }
        setButtons(_Buttons) {
            this.confirmBoxCarrier.setButtons(_Buttons);
        }
        setConfig(_ConfirmBoxCoreConfig) {
            this.confirmBoxCarrier.setConfig(_ConfirmBoxCoreConfig);
        }
        setDispatch(_Title, _Message = null) {
            this.confirmBoxCarrier.setTitle(_Title);
            this.confirmBoxCarrier.setMessage(_Message);
        }
        setTitle(_Title) {
            this.confirmBoxCarrier.setTitle(_Title);
        }
        setMessage(_Message) {
            this.confirmBoxCarrier.setMessage(_Message);
        }
        setButtonLabels(_Confirm, _Decline) {
            this.confirmBoxCarrier.setButtonLabels(_Confirm, _Decline);
        }
    }
    ConfirmBoxClass.ConfirmBoxInitializer = ConfirmBoxInitializer;
    class ConfirmBoxResponse extends GlobalClass.DataControl {
        constructor() {
            super();
            // private Response: DialogPrepareResponse            = new DialogPrepareResponse();
            this.Success = null;
            this.ClickedButtonID = null;
        }
        setSuccess(_IsSuccess) {
            this.Success = _IsSuccess;
        }
        setClickedButtonID(_ClickedButtonID) {
            this.ClickedButtonID = _ClickedButtonID;
        }
    }
    ConfirmBoxClass.ConfirmBoxResponse = ConfirmBoxResponse;
    class ConfirmBoxEventsController {
        constructor(EntityUniqueID) {
            this.EntityUniqueID = EntityUniqueID;
            this._afterClosed = new Subject();
            this.afterClosed$ = this._afterClosed.asObservable();
            this._onButtonClick = new Subject();
            this.onButtonClick$ = this._onButtonClick.asObservable();
            this._buttonList = new Subject();
            this.buttonList$ = this._buttonList.asObservable();
        }
        close(_Response) {
            const response = _Response ? _Response : this.defaultResponse;
            this._afterClosed.next(response);
        }
        onButtonClick(_Button) {
            this.defaultResponse.setClickedButtonID(_Button.ID);
            this._onButtonClick.next(_Button);
        }
        setButtonList(_ButtonList) {
            this._buttonList.next(_ButtonList);
        }
        setDefaultResponse(_Response) {
            this.defaultResponse = _Response;
        }
    }
    ConfirmBoxClass.ConfirmBoxEventsController = ConfirmBoxEventsController;
    // endregion
    class ConfirmBoxDefaultResponse extends ConfirmBoxResponse {
        constructor() {
            super();
            this.confirmBoxBelonging = null;
        }
        setBelonging(_ConfirmBoxBelonging) {
            this.confirmBoxBelonging = _ConfirmBoxBelonging;
        }
    }
    ConfirmBoxClass.ConfirmBoxDefaultResponse = ConfirmBoxDefaultResponse;
    class ConfirmBoxCarrier {
        constructor() {
            this.confirmBoxBelonging = new ConfirmBoxClass.ConfirmBoxBelonging();
        }
        setButtons(_Buttons) {
            if (_Buttons.length) {
                this.confirmBoxBelonging.Buttons = _Buttons;
            }
        }
        setTitle(_Title) {
            this.confirmBoxBelonging.Dispatch.Title = _Title;
        }
        setMessage(_Message) {
            this.confirmBoxBelonging.Dispatch.Message = _Message;
        }
        setButtonLabels(_Confirm, _Decline) {
            this.confirmBoxBelonging.ConfirmBoxCoreConfig.ConfirmLabel = _Confirm;
            this.confirmBoxBelonging.ConfirmBoxCoreConfig.DeclineLabel = _Decline;
        }
        setConfig(_ConfirmBoxBelonging) {
            // region *** local UserConfig (defined on place where dialog is called) ***
            const dataControl = new GlobalClass.DataControl();
            dataControl.copyValuesFrom(_ConfirmBoxBelonging, this.confirmBoxBelonging.ConfirmBoxCoreConfig);
            // endregion
        }
        openConfirmBox$() {
            const service = ServiceLocator.injector.get(ConfirmBoxService);
            const confirmBoxController = service.open(this.confirmBoxBelonging);
            return confirmBoxController.afterClosed$;
        }
    }
    ConfirmBoxClass.ConfirmBoxCarrier = ConfirmBoxCarrier;
    class Settings {
        constructor() {
            this.Buttons = [];
            this.ConfirmBoxCoreConfig = new ConfirmBoxCoreConfig();
            this.Dispatch = new GlobalClass.Dispatch();
        }
    }
    ConfirmBoxClass.Settings = Settings;
    class ConfirmBoxCoreConfig {
        constructor() {
            this.Width = null;
            this.Height = null;
            this.ButtonPosition = null;
            this.LayoutType = null;
            this.Dispatch = null;
            this.ConfirmLabel = null;
            this.DeclineLabel = null;
            this.DisableIcon = null;
            this.AllowHTMLMessage = null;
        }
    }
    ConfirmBoxClass.ConfirmBoxCoreConfig = ConfirmBoxCoreConfig;
    class ConfirmBoxBelonging extends ConfirmBoxClass.Settings {
        constructor() {
            super();
            this.EntityUniqueID = 'C' + Math.random().toString(36).substr(2, 9);
            this.EventsController = new ConfirmBoxEventsController(this.EntityUniqueID);
            const ConfirmBoxCoreConfigurator = ServiceLocator.injector.get(ConfirmBoxConfigService);
            const baseSettings = new ConfirmBoxClass.Settings();
            const dataControl = new GlobalClass.DataControl();
            dataControl.copyValuesFrom(ConfirmBoxCoreConfigurator.productionConfig.ConfirmBoxCoreConfig, baseSettings.ConfirmBoxCoreConfig);
            this.ConfirmBoxCoreConfig = baseSettings.ConfirmBoxCoreConfig;
            this.Buttons = ConfirmBoxCoreConfigurator.productionConfig.Buttons.slice();
        }
    }
    ConfirmBoxClass.ConfirmBoxBelonging = ConfirmBoxBelonging;
})(ConfirmBoxClass || (ConfirmBoxClass = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9uZ3gtYXdlc29tZS1wb3B1cC90eXBlcy9jb25maXJtLWJveC9jb3JlL21vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBYyxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDM0MsT0FBTyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUUzQyxPQUFPLEVBQUUsV0FBVyxFQUFtQixNQUFNLHNCQUFzQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN2RSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQXNEMUQsTUFBTSxLQUFXLGVBQWUsQ0FvTi9CO0FBcE5ELFdBQWlCLGVBQWU7SUFDOUIsd0JBQXdCO0lBRXhCLE1BQWEscUJBQXFCO1FBSWhDO1lBSEEsZ0JBQWdCO1lBQ1Isc0JBQWlCLEdBQXNDLElBQUksZUFBZSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFFeEYsQ0FBQztRQUVoQixlQUFlO1lBQ2IsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsZUFBZSxFQUFFLENBQUMsSUFBSSxDQUNsRCxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ1QsTUFBTSx1QkFBdUIsR0FBRyxJQUFJLGtCQUFrQixFQUFFLENBQUM7Z0JBQ3pELE1BQU0sV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNsRCxXQUFXLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO2dCQUMxRCxPQUFPLHVCQUF1QixDQUFDO1lBQ2pDLENBQUMsQ0FBQyxFQUNGLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FDUixDQUFDO1FBQ0osQ0FBQztRQUVELFVBQVUsQ0FBQyxRQUFtQztZQUM1QyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzlDLENBQUM7UUFFRCxTQUFTLENBQ1AscUJBQWdFO1lBRWhFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUMxRCxDQUFDO1FBRUQsV0FBVyxDQUFDLE1BQWMsRUFBRSxXQUFtQixJQUFJO1lBQ2pELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDeEMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QyxDQUFDO1FBRUQsUUFBUSxDQUFDLE1BQWM7WUFDckIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQyxDQUFDO1FBRUQsVUFBVSxDQUFDLFFBQWdCO1lBQ3pCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsQ0FBQztRQUVELGVBQWUsQ0FBQyxRQUFnQixFQUFFLFFBQWlCO1lBQ2pELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzdELENBQUM7S0FDRjtJQTVDWSxxQ0FBcUIsd0JBNENqQyxDQUFBO0lBRUQsTUFBYSxrQkFDWCxTQUFRLFdBQVcsQ0FBQyxXQUFXO1FBUy9CO1lBQ0UsS0FBSyxFQUFFLENBQUM7WUFOVixvRkFBb0Y7WUFFcEYsWUFBTyxHQUFZLElBQUksQ0FBQztZQUN4QixvQkFBZSxHQUFXLElBQUksQ0FBQztRQUkvQixDQUFDO1FBRUQsVUFBVSxDQUFDLFVBQW1CO1lBQzVCLElBQUksQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDO1FBQzVCLENBQUM7UUFFRCxrQkFBa0IsQ0FBQyxnQkFBZ0I7WUFDakMsSUFBSSxDQUFDLGVBQWUsR0FBRyxnQkFBZ0IsQ0FBQztRQUMxQyxDQUFDO0tBQ0Y7SUFyQlksa0NBQWtCLHFCQXFCOUIsQ0FBQTtJQUVELE1BQWEsMEJBQTBCO1FBZXJDLFlBQW9CLGNBQXNCO1lBQXRCLG1CQUFjLEdBQWQsY0FBYyxDQUFRO1lBWnpCLGlCQUFZLEdBQXdELElBQUksT0FBTyxFQUE4QyxDQUFDO1lBQy9JLGlCQUFZLEdBQTJELElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLENBQUM7WUFFdkYsbUJBQWMsR0FBcUMsSUFBSSxPQUFPLEVBQTJCLENBQUM7WUFDM0csbUJBQWMsR0FBd0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUN4RSxnQkFBVyxHQUV4QixJQUFJLE9BQU8sRUFBNkIsQ0FBQztZQUM3QyxnQkFBVyxHQUVQLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLENBQUM7UUFFUyxDQUFDO1FBRTlDLEtBQUssQ0FBQyxTQUFzRDtZQUMxRCxNQUFNLFFBQVEsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUM5RCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNuQyxDQUFDO1FBRUQsYUFBYSxDQUFDLE9BQWdDO1lBQzVDLElBQUksQ0FBQyxlQUFlLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3BELElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BDLENBQUM7UUFFRCxhQUFhLENBQUMsV0FBc0M7WUFDbEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUVELGtCQUFrQixDQUNoQixTQUFxRDtZQUVyRCxJQUFJLENBQUMsZUFBZSxHQUFHLFNBQVMsQ0FBQztRQUNuQyxDQUFDO0tBQ0Y7SUFwQ1ksMENBQTBCLDZCQW9DdEMsQ0FBQTtJQUVELFlBQVk7SUFFWixNQUFhLHlCQUNYLFNBQVEsa0JBQWtCO1FBSTFCO1lBQ0UsS0FBSyxFQUFFLENBQUM7WUFIVix3QkFBbUIsR0FBd0IsSUFBSSxDQUFDO1FBSWhELENBQUM7UUFFRCxZQUFZLENBQUMsb0JBQW9CO1lBQy9CLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxvQkFBb0IsQ0FBQztRQUNsRCxDQUFDO0tBQ0Y7SUFaWSx5Q0FBeUIsNEJBWXJDLENBQUE7SUFFRCxNQUFhLGlCQUFpQjtRQUc1QjtZQUZBLHdCQUFtQixHQUF3QyxJQUFJLGVBQWUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRXRGLENBQUM7UUFFaEIsVUFBVSxDQUFDLFFBQW1DO1lBQzVDLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRTtnQkFDbkIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUM7YUFDN0M7UUFDSCxDQUFDO1FBRUQsUUFBUSxDQUFDLE1BQWM7WUFDckIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDO1FBQ25ELENBQUM7UUFFRCxVQUFVLENBQUMsUUFBZ0I7WUFDekIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO1FBQ3ZELENBQUM7UUFFRCxlQUFlLENBQUMsUUFBZ0IsRUFBRSxRQUFnQjtZQUNoRCxJQUFJLENBQUMsbUJBQW1CLENBQUMsb0JBQW9CLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQztZQUN0RSxJQUFJLENBQUMsbUJBQW1CLENBQUMsb0JBQW9CLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQztRQUN4RSxDQUFDO1FBRUQsU0FBUyxDQUFDLG9CQUErRDtZQUN2RSw0RUFBNEU7WUFDNUUsTUFBTSxXQUFXLEdBQUcsSUFBSSxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDbEQsV0FBVyxDQUFDLGNBQWMsQ0FDeEIsb0JBQW9CLEVBQ3BCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxvQkFBb0IsQ0FDOUMsQ0FBQztZQUNGLFlBQVk7UUFDZCxDQUFDO1FBRUQsZUFBZTtZQUNiLE1BQU0sT0FBTyxHQUFzQixjQUFjLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FDNUQsaUJBQWlCLENBQ2xCLENBQUM7WUFDRixNQUFNLG9CQUFvQixHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDcEUsT0FBTyxvQkFBb0IsQ0FBQyxZQUFZLENBQUM7UUFDM0MsQ0FBQztLQUNGO0lBekNZLGlDQUFpQixvQkF5QzdCLENBQUE7SUFFRCxNQUFhLFFBQVE7UUFBckI7WUFDRSxZQUFPLEdBQThCLEVBQUUsQ0FBQztZQUN4Qyx5QkFBb0IsR0FBOEMsSUFBSSxvQkFBb0IsRUFBRSxDQUFDO1lBQzdGLGFBQVEsR0FBOEIsSUFBSSxXQUFXLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbkUsQ0FBQztLQUFBO0lBSlksd0JBQVEsV0FJcEIsQ0FBQTtJQUVELE1BQWEsb0JBQW9CO1FBQWpDO1lBRUUsVUFBSyxHQUFXLElBQUksQ0FBQztZQUNyQixXQUFNLEdBQVcsSUFBSSxDQUFDO1lBQ3RCLG1CQUFjLEdBQXFCLElBQUksQ0FBQztZQUN4QyxlQUFVLEdBQXdCLElBQUksQ0FBQztZQUN2QyxhQUFRLEdBQThCLElBQUksQ0FBQztZQUMzQyxpQkFBWSxHQUFXLElBQUksQ0FBQztZQUM1QixpQkFBWSxHQUFXLElBQUksQ0FBQztZQUM1QixnQkFBVyxHQUFZLElBQUksQ0FBQztZQUM1QixxQkFBZ0IsR0FBWSxJQUFJLENBQUM7UUFDbkMsQ0FBQztLQUFBO0lBWFksb0NBQW9CLHVCQVdoQyxDQUFBO0lBRUQsTUFBYSxtQkFDWCxTQUFRLGVBQWUsQ0FBQyxRQUFRO1FBS2hDO1lBQ0UsS0FBSyxFQUFFLENBQUM7WUFKVixtQkFBYyxHQUFXLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFLckUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksMEJBQTBCLENBQ3BELElBQUksQ0FBQyxjQUFjLENBQ3BCLENBQUM7WUFDRixNQUFNLDBCQUEwQixHQUE0QixjQUFjLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FDckYsdUJBQXVCLENBQ3hCLENBQUM7WUFDRixNQUFNLFlBQVksR0FBRyxJQUFJLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNwRCxNQUFNLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNsRCxXQUFXLENBQUMsY0FBYyxDQUN4QiwwQkFBMEIsQ0FBQyxnQkFBZ0IsQ0FBQyxvQkFBb0IsRUFDaEUsWUFBWSxDQUFDLG9CQUFvQixDQUNsQyxDQUFDO1lBQ0YsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQztZQUM5RCxJQUFJLENBQUMsT0FBTyxHQUFHLDBCQUEwQixDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUM3RSxDQUFDO0tBQ0Y7SUF2QlksbUNBQW1CLHNCQXVCL0IsQ0FBQTtBQUNILENBQUMsRUFwTmdCLGVBQWUsS0FBZixlQUFlLFFBb04vQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1hcCwgdGFrZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IERpYWxvZ0xheW91dERpc3BsYXksIFZlcnRpY2FsUG9zaXRpb24gfSBmcm9tICcuLi8uLi8uLi9jb3JlL2VudW1zJztcbmltcG9ydCB7IEdsb2JhbENsYXNzLCBHbG9iYWxJbnRlcmZhY2UgfSBmcm9tICcuLi8uLi8uLi9jb3JlL2dsb2JhbCc7XG5pbXBvcnQgeyBTZXJ2aWNlTG9jYXRvciB9IGZyb20gJy4uLy4uLy4uL2xvY2F0b3Iuc2VydmljZSc7XG5pbXBvcnQgeyBDb25maXJtQm94Q29uZmlnU2VydmljZSB9IGZyb20gJy4vY29uZmlybS1ib3gtY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29uZmlybUJveFNlcnZpY2UgfSBmcm9tICcuL2NvbmZpcm0tYm94LXNlcnZpY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDb25maXJtQm94VXNlckNvbmZpZyB7XG4gIEJ1dHRvbnM/OiBHbG9iYWxJbnRlcmZhY2UuSUJ1dHRvbltdO1xuICBDb25maXJtQm94Q29yZUNvbmZpZz86IENvbmZpcm1Cb3hJbnRlcmZhY2UuSUNvbmZpcm1Cb3hDb3JlQ29uZmlnO1xuICBEaXNwYXRjaD86IEdsb2JhbEludGVyZmFjZS5JRGlzcGF0Y2g7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29uZmlybUJveEludGVyZmFjZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgSUNvbmZpcm1Cb3hVc2VyQ29uZmlnIHtcbiAgICBCdXR0b25zPzogR2xvYmFsSW50ZXJmYWNlLklCdXR0b25bXTtcbiAgICBDb25maXJtQm94Q29yZUNvbmZpZz86IENvbmZpcm1Cb3hJbnRlcmZhY2UuSUNvbmZpcm1Cb3hDb3JlQ29uZmlnO1xuICAgIERpc3BhdGNoPzogR2xvYmFsSW50ZXJmYWNlLklEaXNwYXRjaDtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgSUNvbmZpcm1Cb3hDb3JlQ29uZmlnIHtcbiAgICAvKiogRml4ZWQgcG9wdXAgd2lkdGggKi9cbiAgICBXaWR0aD86IHN0cmluZztcbiAgICAvKiogRml4ZWQgcG9wdXAgaGVpZ2h0ICovXG4gICAgSGVpZ2h0Pzogc3RyaW5nO1xuICAgIEJ1dHRvblBvc2l0aW9uPzogVmVydGljYWxQb3NpdGlvbjtcbiAgICBMYXlvdXRUeXBlPzogRGlhbG9nTGF5b3V0RGlzcGxheTtcbiAgICBEaXNwYXRjaD86IEdsb2JhbEludGVyZmFjZS5JRGlzcGF0Y2g7XG4gICAgQ29uZmlybUxhYmVsPzogc3RyaW5nO1xuICAgIERlY2xpbmVMYWJlbD86IHN0cmluZztcbiAgICBEaXNhYmxlSWNvbj86IGJvb2xlYW47XG4gICAgQWxsb3dIVE1MTWVzc2FnZT86IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIElDb25maXJtQm94QmVsb25naW5nIHtcbiAgICBCdXR0b25zOiBHbG9iYWxJbnRlcmZhY2UuSUJ1dHRvbltdO1xuICAgIENvbmZpcm1Cb3hDb3JlQ29uZmlnOiBDb25maXJtQm94SW50ZXJmYWNlLklDb25maXJtQm94Q29yZUNvbmZpZztcbiAgICBFbnRpdHlVbmlxdWVJRDogc3RyaW5nO1xuICAgIEV2ZW50c0NvbnRyb2xsZXI6IENvbmZpcm1Cb3hDbGFzcy5Db25maXJtQm94RXZlbnRzQ29udHJvbGxlcjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgSUNvbmZpcm1Cb3hSZXNwb25zZSB7XG4gICAgc2V0U3VjY2VzcyhfSXNTdWNjZXNzOiBib29sZWFuKTogdm9pZDtcblxuICAgIHNldENsaWNrZWRCdXR0b25JRChfQ2xpY2tlZEJ1dHRvbklEKTogdm9pZDtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgSUNvbmZpcm1Cb3hQdWJsaWNSZXNwb25zZSB7XG4gICAgU3VjY2VzczogYm9vbGVhbjtcbiAgICBDbGlja2VkQnV0dG9uSUQ6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgSVByaXZhdGVSZXNwb25zZU1lcmdlZFxuICAgIGV4dGVuZHMgSUNvbmZpcm1Cb3hSZXNwb25zZSxcbiAgICAgIEdsb2JhbEludGVyZmFjZS5JUHJpdmF0ZVJlc3BvbnNlIHtcbiAgICBjb25maXJtQm94QmVsb25naW5nOiBDb25maXJtQm94SW50ZXJmYWNlLklDb25maXJtQm94QmVsb25naW5nO1xuICB9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29uZmlybUJveENsYXNzIHtcbiAgLy8gcmVnaW9uICoqKiBQdWJsaWMgKioqXG5cbiAgZXhwb3J0IGNsYXNzIENvbmZpcm1Cb3hJbml0aWFsaXplciB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHByaXZhdGUgY29uZmlybUJveENhcnJpZXI6IENvbmZpcm1Cb3hDbGFzcy5Db25maXJtQm94Q2FycmllciA9IG5ldyBDb25maXJtQm94Q2xhc3MuQ29uZmlybUJveENhcnJpZXIoKTtcblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIG9wZW5Db25maXJtQm94JCgpOiBPYnNlcnZhYmxlPENvbmZpcm1Cb3hJbnRlcmZhY2UuSUNvbmZpcm1Cb3hQdWJsaWNSZXNwb25zZT4ge1xuICAgICAgcmV0dXJuIHRoaXMuY29uZmlybUJveENhcnJpZXIub3BlbkNvbmZpcm1Cb3gkKCkucGlwZShcbiAgICAgICAgbWFwKHJlc3AgPT4ge1xuICAgICAgICAgIGNvbnN0IGJhc2ljQ29uZmlybUJveFJlc3BvbnNlID0gbmV3IENvbmZpcm1Cb3hSZXNwb25zZSgpO1xuICAgICAgICAgIGNvbnN0IGRhdGFDb250cm9sID0gbmV3IEdsb2JhbENsYXNzLkRhdGFDb250cm9sKCk7XG4gICAgICAgICAgZGF0YUNvbnRyb2wuY29weVZhbHVlc0Zyb20ocmVzcCwgYmFzaWNDb25maXJtQm94UmVzcG9uc2UpO1xuICAgICAgICAgIHJldHVybiBiYXNpY0NvbmZpcm1Cb3hSZXNwb25zZTtcbiAgICAgICAgfSksXG4gICAgICAgIHRha2UoMSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgc2V0QnV0dG9ucyhfQnV0dG9uczogR2xvYmFsSW50ZXJmYWNlLklCdXR0b25bXSk6IHZvaWQge1xuICAgICAgdGhpcy5jb25maXJtQm94Q2Fycmllci5zZXRCdXR0b25zKF9CdXR0b25zKTtcbiAgICB9XG5cbiAgICBzZXRDb25maWcoXG4gICAgICBfQ29uZmlybUJveENvcmVDb25maWc6IENvbmZpcm1Cb3hJbnRlcmZhY2UuSUNvbmZpcm1Cb3hDb3JlQ29uZmlnXG4gICAgKSB7XG4gICAgICB0aGlzLmNvbmZpcm1Cb3hDYXJyaWVyLnNldENvbmZpZyhfQ29uZmlybUJveENvcmVDb25maWcpO1xuICAgIH1cblxuICAgIHNldERpc3BhdGNoKF9UaXRsZTogc3RyaW5nLCBfTWVzc2FnZTogc3RyaW5nID0gbnVsbCk6IHZvaWQge1xuICAgICAgdGhpcy5jb25maXJtQm94Q2Fycmllci5zZXRUaXRsZShfVGl0bGUpO1xuICAgICAgdGhpcy5jb25maXJtQm94Q2Fycmllci5zZXRNZXNzYWdlKF9NZXNzYWdlKTtcbiAgICB9XG5cbiAgICBzZXRUaXRsZShfVGl0bGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgdGhpcy5jb25maXJtQm94Q2Fycmllci5zZXRUaXRsZShfVGl0bGUpO1xuICAgIH1cblxuICAgIHNldE1lc3NhZ2UoX01lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgICAgdGhpcy5jb25maXJtQm94Q2Fycmllci5zZXRNZXNzYWdlKF9NZXNzYWdlKTtcbiAgICB9XG5cbiAgICBzZXRCdXR0b25MYWJlbHMoX0NvbmZpcm06IHN0cmluZywgX0RlY2xpbmU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIHRoaXMuY29uZmlybUJveENhcnJpZXIuc2V0QnV0dG9uTGFiZWxzKF9Db25maXJtLCBfRGVjbGluZSk7XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGNsYXNzIENvbmZpcm1Cb3hSZXNwb25zZVxuICAgIGV4dGVuZHMgR2xvYmFsQ2xhc3MuRGF0YUNvbnRyb2xcbiAgICBpbXBsZW1lbnRzXG4gICAgICBDb25maXJtQm94SW50ZXJmYWNlLklDb25maXJtQm94UmVzcG9uc2UsXG4gICAgICBDb25maXJtQm94SW50ZXJmYWNlLklDb25maXJtQm94UHVibGljUmVzcG9uc2Uge1xuICAgIC8vIHByaXZhdGUgUmVzcG9uc2U6IERpYWxvZ1ByZXBhcmVSZXNwb25zZSAgICAgICAgICAgID0gbmV3IERpYWxvZ1ByZXBhcmVSZXNwb25zZSgpO1xuXG4gICAgU3VjY2VzczogYm9vbGVhbiA9IG51bGw7XG4gICAgQ2xpY2tlZEJ1dHRvbklEOiBzdHJpbmcgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHNldFN1Y2Nlc3MoX0lzU3VjY2VzczogYm9vbGVhbik6IHZvaWQge1xuICAgICAgdGhpcy5TdWNjZXNzID0gX0lzU3VjY2VzcztcbiAgICB9XG5cbiAgICBzZXRDbGlja2VkQnV0dG9uSUQoX0NsaWNrZWRCdXR0b25JRCk6IHZvaWQge1xuICAgICAgdGhpcy5DbGlja2VkQnV0dG9uSUQgPSBfQ2xpY2tlZEJ1dHRvbklEO1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBjbGFzcyBDb25maXJtQm94RXZlbnRzQ29udHJvbGxlciB7XG4gICAgZGVmYXVsdFJlc3BvbnNlOiBDb25maXJtQm94SW50ZXJmYWNlLklQcml2YXRlUmVzcG9uc2VNZXJnZWQ7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hZnRlckNsb3NlZDogU3ViamVjdDxDb25maXJtQm94SW50ZXJmYWNlLklQcml2YXRlUmVzcG9uc2VNZXJnZWQ+ID0gbmV3IFN1YmplY3Q8Q29uZmlybUJveEludGVyZmFjZS5JUHJpdmF0ZVJlc3BvbnNlTWVyZ2VkPigpO1xuICAgIGFmdGVyQ2xvc2VkJDogT2JzZXJ2YWJsZTxDb25maXJtQm94SW50ZXJmYWNlLklQcml2YXRlUmVzcG9uc2VNZXJnZWQ+ID0gdGhpcy5fYWZ0ZXJDbG9zZWQuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9vbkJ1dHRvbkNsaWNrOiBTdWJqZWN0PEdsb2JhbEludGVyZmFjZS5JQnV0dG9uPiA9IG5ldyBTdWJqZWN0PEdsb2JhbEludGVyZmFjZS5JQnV0dG9uPigpO1xuICAgIG9uQnV0dG9uQ2xpY2skOiBPYnNlcnZhYmxlPEdsb2JhbEludGVyZmFjZS5JQnV0dG9uPiA9IHRoaXMuX29uQnV0dG9uQ2xpY2suYXNPYnNlcnZhYmxlKCk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfYnV0dG9uTGlzdDogU3ViamVjdDxcbiAgICAgIEdsb2JhbEludGVyZmFjZS5JQnV0dG9uW11cbiAgICA+ID0gbmV3IFN1YmplY3Q8R2xvYmFsSW50ZXJmYWNlLklCdXR0b25bXT4oKTtcbiAgICBidXR0b25MaXN0JDogT2JzZXJ2YWJsZTxcbiAgICAgIEdsb2JhbEludGVyZmFjZS5JQnV0dG9uW11cbiAgICA+ID0gdGhpcy5fYnV0dG9uTGlzdC5hc09ic2VydmFibGUoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgRW50aXR5VW5pcXVlSUQ6IHN0cmluZykge31cblxuICAgIGNsb3NlKF9SZXNwb25zZT86IENvbmZpcm1Cb3hJbnRlcmZhY2UuSVByaXZhdGVSZXNwb25zZU1lcmdlZCk6IHZvaWQge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBfUmVzcG9uc2UgPyBfUmVzcG9uc2UgOiB0aGlzLmRlZmF1bHRSZXNwb25zZTtcbiAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLm5leHQocmVzcG9uc2UpO1xuICAgIH1cblxuICAgIG9uQnV0dG9uQ2xpY2soX0J1dHRvbjogR2xvYmFsSW50ZXJmYWNlLklCdXR0b24pOiB2b2lkIHtcbiAgICAgIHRoaXMuZGVmYXVsdFJlc3BvbnNlLnNldENsaWNrZWRCdXR0b25JRChfQnV0dG9uLklEKTtcbiAgICAgIHRoaXMuX29uQnV0dG9uQ2xpY2submV4dChfQnV0dG9uKTtcbiAgICB9XG5cbiAgICBzZXRCdXR0b25MaXN0KF9CdXR0b25MaXN0OiBHbG9iYWxJbnRlcmZhY2UuSUJ1dHRvbltdKTogdm9pZCB7XG4gICAgICB0aGlzLl9idXR0b25MaXN0Lm5leHQoX0J1dHRvbkxpc3QpO1xuICAgIH1cblxuICAgIHNldERlZmF1bHRSZXNwb25zZShcbiAgICAgIF9SZXNwb25zZTogQ29uZmlybUJveEludGVyZmFjZS5JUHJpdmF0ZVJlc3BvbnNlTWVyZ2VkXG4gICAgKTogdm9pZCB7XG4gICAgICB0aGlzLmRlZmF1bHRSZXNwb25zZSA9IF9SZXNwb25zZTtcbiAgICB9XG4gIH1cblxuICAvLyBlbmRyZWdpb25cblxuICBleHBvcnQgY2xhc3MgQ29uZmlybUJveERlZmF1bHRSZXNwb25zZVxuICAgIGV4dGVuZHMgQ29uZmlybUJveFJlc3BvbnNlXG4gICAgaW1wbGVtZW50cyBDb25maXJtQm94SW50ZXJmYWNlLklQcml2YXRlUmVzcG9uc2VNZXJnZWQge1xuICAgIGNvbmZpcm1Cb3hCZWxvbmdpbmc6IENvbmZpcm1Cb3hCZWxvbmdpbmcgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHNldEJlbG9uZ2luZyhfQ29uZmlybUJveEJlbG9uZ2luZyk6IHZvaWQge1xuICAgICAgdGhpcy5jb25maXJtQm94QmVsb25naW5nID0gX0NvbmZpcm1Cb3hCZWxvbmdpbmc7XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGNsYXNzIENvbmZpcm1Cb3hDYXJyaWVyIHtcbiAgICBjb25maXJtQm94QmVsb25naW5nOiBDb25maXJtQm94Q2xhc3MuQ29uZmlybUJveEJlbG9uZ2luZyA9IG5ldyBDb25maXJtQm94Q2xhc3MuQ29uZmlybUJveEJlbG9uZ2luZygpO1xuXG4gICAgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgc2V0QnV0dG9ucyhfQnV0dG9uczogR2xvYmFsSW50ZXJmYWNlLklCdXR0b25bXSkge1xuICAgICAgaWYgKF9CdXR0b25zLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmNvbmZpcm1Cb3hCZWxvbmdpbmcuQnV0dG9ucyA9IF9CdXR0b25zO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldFRpdGxlKF9UaXRsZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICB0aGlzLmNvbmZpcm1Cb3hCZWxvbmdpbmcuRGlzcGF0Y2guVGl0bGUgPSBfVGl0bGU7XG4gICAgfVxuXG4gICAgc2V0TWVzc2FnZShfTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICB0aGlzLmNvbmZpcm1Cb3hCZWxvbmdpbmcuRGlzcGF0Y2guTWVzc2FnZSA9IF9NZXNzYWdlO1xuICAgIH1cblxuICAgIHNldEJ1dHRvbkxhYmVscyhfQ29uZmlybTogc3RyaW5nLCBfRGVjbGluZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICB0aGlzLmNvbmZpcm1Cb3hCZWxvbmdpbmcuQ29uZmlybUJveENvcmVDb25maWcuQ29uZmlybUxhYmVsID0gX0NvbmZpcm07XG4gICAgICB0aGlzLmNvbmZpcm1Cb3hCZWxvbmdpbmcuQ29uZmlybUJveENvcmVDb25maWcuRGVjbGluZUxhYmVsID0gX0RlY2xpbmU7XG4gICAgfVxuXG4gICAgc2V0Q29uZmlnKF9Db25maXJtQm94QmVsb25naW5nOiBDb25maXJtQm94SW50ZXJmYWNlLklDb25maXJtQm94Q29yZUNvbmZpZykge1xuICAgICAgLy8gcmVnaW9uICoqKiBsb2NhbCBVc2VyQ29uZmlnIChkZWZpbmVkIG9uIHBsYWNlIHdoZXJlIGRpYWxvZyBpcyBjYWxsZWQpICoqKlxuICAgICAgY29uc3QgZGF0YUNvbnRyb2wgPSBuZXcgR2xvYmFsQ2xhc3MuRGF0YUNvbnRyb2woKTtcbiAgICAgIGRhdGFDb250cm9sLmNvcHlWYWx1ZXNGcm9tKFxuICAgICAgICBfQ29uZmlybUJveEJlbG9uZ2luZyxcbiAgICAgICAgdGhpcy5jb25maXJtQm94QmVsb25naW5nLkNvbmZpcm1Cb3hDb3JlQ29uZmlnXG4gICAgICApO1xuICAgICAgLy8gZW5kcmVnaW9uXG4gICAgfVxuXG4gICAgb3BlbkNvbmZpcm1Cb3gkKCk6IE9ic2VydmFibGU8Q29uZmlybUJveEludGVyZmFjZS5JUHJpdmF0ZVJlc3BvbnNlTWVyZ2VkPiB7XG4gICAgICBjb25zdCBzZXJ2aWNlOiBDb25maXJtQm94U2VydmljZSA9IFNlcnZpY2VMb2NhdG9yLmluamVjdG9yLmdldChcbiAgICAgICAgQ29uZmlybUJveFNlcnZpY2VcbiAgICAgICk7XG4gICAgICBjb25zdCBjb25maXJtQm94Q29udHJvbGxlciA9IHNlcnZpY2Uub3Blbih0aGlzLmNvbmZpcm1Cb3hCZWxvbmdpbmcpO1xuICAgICAgcmV0dXJuIGNvbmZpcm1Cb3hDb250cm9sbGVyLmFmdGVyQ2xvc2VkJDtcbiAgICB9XG4gIH1cblxuICBleHBvcnQgY2xhc3MgU2V0dGluZ3Mge1xuICAgIEJ1dHRvbnM6IEdsb2JhbEludGVyZmFjZS5JQnV0dG9uW10gPSBbXTtcbiAgICBDb25maXJtQm94Q29yZUNvbmZpZzogQ29uZmlybUJveEludGVyZmFjZS5JQ29uZmlybUJveENvcmVDb25maWcgPSBuZXcgQ29uZmlybUJveENvcmVDb25maWcoKTtcbiAgICBEaXNwYXRjaDogR2xvYmFsSW50ZXJmYWNlLklEaXNwYXRjaCA9IG5ldyBHbG9iYWxDbGFzcy5EaXNwYXRjaCgpO1xuICB9XG5cbiAgZXhwb3J0IGNsYXNzIENvbmZpcm1Cb3hDb3JlQ29uZmlnXG4gICAgaW1wbGVtZW50cyBDb25maXJtQm94SW50ZXJmYWNlLklDb25maXJtQm94Q29yZUNvbmZpZyB7XG4gICAgV2lkdGg6IHN0cmluZyA9IG51bGw7XG4gICAgSGVpZ2h0OiBzdHJpbmcgPSBudWxsO1xuICAgIEJ1dHRvblBvc2l0aW9uOiBWZXJ0aWNhbFBvc2l0aW9uID0gbnVsbDtcbiAgICBMYXlvdXRUeXBlOiBEaWFsb2dMYXlvdXREaXNwbGF5ID0gbnVsbDtcbiAgICBEaXNwYXRjaDogR2xvYmFsSW50ZXJmYWNlLklEaXNwYXRjaCA9IG51bGw7XG4gICAgQ29uZmlybUxhYmVsOiBzdHJpbmcgPSBudWxsO1xuICAgIERlY2xpbmVMYWJlbDogc3RyaW5nID0gbnVsbDtcbiAgICBEaXNhYmxlSWNvbjogYm9vbGVhbiA9IG51bGw7XG4gICAgQWxsb3dIVE1MTWVzc2FnZTogYm9vbGVhbiA9IG51bGw7XG4gIH1cblxuICBleHBvcnQgY2xhc3MgQ29uZmlybUJveEJlbG9uZ2luZ1xuICAgIGV4dGVuZHMgQ29uZmlybUJveENsYXNzLlNldHRpbmdzXG4gICAgaW1wbGVtZW50cyBDb25maXJtQm94SW50ZXJmYWNlLklDb25maXJtQm94QmVsb25naW5nIHtcbiAgICBFbnRpdHlVbmlxdWVJRDogc3RyaW5nID0gJ0MnICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xuICAgIEV2ZW50c0NvbnRyb2xsZXI6IENvbmZpcm1Cb3hFdmVudHNDb250cm9sbGVyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5FdmVudHNDb250cm9sbGVyID0gbmV3IENvbmZpcm1Cb3hFdmVudHNDb250cm9sbGVyKFxuICAgICAgICB0aGlzLkVudGl0eVVuaXF1ZUlEXG4gICAgICApO1xuICAgICAgY29uc3QgQ29uZmlybUJveENvcmVDb25maWd1cmF0b3I6IENvbmZpcm1Cb3hDb25maWdTZXJ2aWNlID0gU2VydmljZUxvY2F0b3IuaW5qZWN0b3IuZ2V0KFxuICAgICAgICBDb25maXJtQm94Q29uZmlnU2VydmljZVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJhc2VTZXR0aW5ncyA9IG5ldyBDb25maXJtQm94Q2xhc3MuU2V0dGluZ3MoKTtcbiAgICAgIGNvbnN0IGRhdGFDb250cm9sID0gbmV3IEdsb2JhbENsYXNzLkRhdGFDb250cm9sKCk7XG4gICAgICBkYXRhQ29udHJvbC5jb3B5VmFsdWVzRnJvbShcbiAgICAgICAgQ29uZmlybUJveENvcmVDb25maWd1cmF0b3IucHJvZHVjdGlvbkNvbmZpZy5Db25maXJtQm94Q29yZUNvbmZpZyxcbiAgICAgICAgYmFzZVNldHRpbmdzLkNvbmZpcm1Cb3hDb3JlQ29uZmlnXG4gICAgICApO1xuICAgICAgdGhpcy5Db25maXJtQm94Q29yZUNvbmZpZyA9IGJhc2VTZXR0aW5ncy5Db25maXJtQm94Q29yZUNvbmZpZztcbiAgICAgIHRoaXMuQnV0dG9ucyA9IENvbmZpcm1Cb3hDb3JlQ29uZmlndXJhdG9yLnByb2R1Y3Rpb25Db25maWcuQnV0dG9ucy5zbGljZSgpO1xuICAgIH1cbiAgfVxufVxuIl19